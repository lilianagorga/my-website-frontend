<section class="contact-page">
  <div class="page-container">
    <div class="contact-header">
      <div class="contact-header-text">
        <h1 class="page-title">Contattami</h1>
        <p class="page-subtitle">Hai una domanda o vuoi collaborare? Scrivimi un messaggio.</p>
      </div>
      <div class="contact-illustration">
        <img src="illustrations/contact-mail.svg" alt="Illustrazione messaggio" class="mail-illustration" width="300" height="250" loading="lazy" />
      </div>
    </div>

    <form class="contact-form" [formGroup]="contactForm" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label for="name">Nome</label>
        <input id="name" type="text" formControlName="name" placeholder="Il tuo nome" />
        @if (contactForm.get('name')?.touched && contactForm.get('name')?.hasError('required')) {
          <span class="error">Il nome è obbligatorio.</span>
        }
      </div>

      <div class="form-group">
        <label for="email">Email</label>
        <input id="email" type="email" formControlName="email" placeholder="la-tua@email.com" />
        @if (contactForm.get('email')?.touched && contactForm.get('email')?.hasError('required')) {
          <span class="error">L'email è obbligatoria.</span>
        }
        @if (contactForm.get('email')?.touched && contactForm.get('email')?.hasError('email')) {
          <span class="error">Inserisci un'email valida.</span>
        }
      </div>

      <div class="form-group">
        <label for="message">Messaggio</label>
        <textarea id="message" formControlName="message" rows="6" placeholder="Il tuo messaggio..."></textarea>
        @if (contactForm.get('message')?.touched && contactForm.get('message')?.hasError('required')) {
          <span class="error">Il messaggio è obbligatorio.</span>
        }
      </div>

      @if (successMessage()) {
        <div class="alert alert-success">{{ successMessage() }}</div>
      }
      @if (errorMessage()) {
        <div class="alert alert-error">{{ errorMessage() }}</div>
      }

      <button type="submit" class="btn-submit" [disabled]="submitting()">
        {{ submitting() ? 'Invio in corso...' : 'Invia Messaggio' }}
      </button>
    </form>
  </div>
</section>
